

void enc_setup(ENCODERROT *rot,
	       int32_t min, int32_t max, int32_t current, int16_t inc,
	       int8_t sw1, int8_t sw2)
{
	rot->min = min;
	rot->max = max;
	rot->current = current;
	rot->inc = inc;
	if ( sw1 > -1 ) rot->sw1 = sw1;
	if ( sw2 > -1 ) rot->sw2 = sw2;
	rot->sw_toggle = 0;
}


void enc_setup_fc(ENCODERROT *rot,
		  int32_t min, int32_t max, int32_t current,
		  int16_t inc_f, int16_t inc_c, uint8_t sw_toggle, 
		  int8_t sw1, int8_t sw2)
{
	enc_setup(rot, min, max, current, inc_f, sw1, sw2);
	rot->inc_f = inc_f;
	rot->inc_c = inc_c;
	rot->sw_toggle = sw_toggle;

	if ( rot->sw_toggle == 1 ) {
		if ( rot->sw1 ) rot->inc = rot->inc_c;
		else rot->inc = rot->inc_f;
	} else if ( rot->sw_toggle == 2 ) {
		if ( rot->sw2 ) rot->inc = rot->inc_c;
		else rot->inc = rot->inc_f;
	}
}

